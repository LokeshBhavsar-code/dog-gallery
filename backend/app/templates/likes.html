<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liked Images</title>
    <script>
        (function () {
            window.tailwind = window.tailwind || {};
            window.tailwind.config = { darkMode: "class" };
            try {
                const saved = localStorage.getItem("theme");
                if (saved === "dark") document.documentElement.classList.add("dark");
                if (saved === "light") document.documentElement.classList.remove("dark");
            } catch (e) {}
        })();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = { darkMode: "class" };
    </script>
</head>
<body class="min-h-screen bg-slate-100 text-slate-900 dark:bg-slate-950 dark:text-slate-100">
<nav class="sticky top-0 z-20 border-b border-slate-200 bg-white/95 backdrop-blur dark:border-slate-800 dark:bg-slate-900/95">
    <div class="mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6">
        <a
            href="/"
            class="rounded-xl border border-slate-300 px-3 py-2 text-sm font-medium transition hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800"
        >
            Back to Gallery
        </a>
        <h2 class="text-lg font-semibold tracking-tight sm:text-xl">Liked Images</h2>
        <button
            id="themeToggle"
            class="rounded-xl border border-slate-300 px-3 py-2 text-sm font-medium transition hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800"
        >
            Dark Mode
        </button>
    </div>
</nav>

<main class="mx-auto w-full max-w-7xl px-4 py-6 sm:px-6 sm:py-8">
    <section class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900 sm:p-5">
        <div id="likesGrid" class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"></div>
    </section>
</main>

<div id="toastContainer" class="fixed right-4 top-4 z-50 space-y-2"></div>

<script src="/static/js/likes.js"></script>
<script>
    (function () {
        const root = document.documentElement;
        const saved = localStorage.getItem("theme");
        if (saved === "dark") root.classList.add("dark");
        if (saved === "light") root.classList.remove("dark");

        const btn = document.getElementById("themeToggle");
        if (!btn) return;

        const syncText = () => {
            btn.innerText = root.classList.contains("dark") ? "Light Mode" : "Dark Mode";
        };

        btn.addEventListener("click", () => {
            root.classList.toggle("dark");
            localStorage.setItem("theme", root.classList.contains("dark") ? "dark" : "light");
            syncText();
        });

        syncText();
    })();
</script>
</body>
</html>
